import{u as g}from"../vue-router/vue-router.4618ca24.js";import{u as c}from"../store/store.bab920c0.js";import{r as I}from"../auth/auth.28781c65.js";import{_ as v}from"../../assets/index.9f47cedf.js";import{d as k,Z as y,e as C,_ as S,i as $,ag as s,o as u,M as a,O as t,U as f,a as H,S as l,T as N,R as w}from"../@vue/@vue.91badbb5.js";const B=k({name:"top",components:{},setup(){const e=g(),o=()=>{e.push("/")},n=y({store:c(),userInfo:C({uid:"",user_name:""}),init:()=>{n.userInfo=JSON.parse(localStorage.getItem("userInfo")),console.log(localStorage.getItem("userInfo")),n.userInfo==null&&(n.userInfo="null")},login:()=>{e.push("/login")},registry:()=>{e.push("/registry")},logout:()=>{localStorage.removeItem("userInfo"),I(),location.replace("/")}}),p=S(n);return $(()=>{n.init()}),{...p,goHome:o}}});function V(e,o,n,p,R,T){const m=s("el-col"),d=s("router-link"),i=s("el-button"),_=s("el-row");return u(),a(_,{style:{margin:"10px 30px"}},{default:t(()=>[f(m,{span:4},{default:t(()=>[H("h2",{onClick:o[0]||(o[0]=(...r)=>e.goHome&&e.goHome(...r)),style:{cursor:"pointer"}},"Longview LK")]),_:1}),f(m,{span:20,style:{"text-align":"right"}},{default:t(()=>[f(d,{to:"/ucenter?uid="+e.userInfo.uid},{default:t(()=>[l(N(e.userInfo.user_name),1)]),_:1},8,["to"]),e.userInfo.uid?w("",!0):(u(),a(i,{key:0,onClick:o[1]||(o[1]=r=>e.login())},{default:t(()=>[l("\u767B\u5F55")]),_:1})),e.userInfo.uid?(u(),a(i,{key:2,onClick:o[3]||(o[3]=r=>e.logout())},{default:t(()=>[l("\u9000\u51FA")]),_:1})):(u(),a(i,{key:1,onClick:o[2]||(o[2]=r=>e.registry())},{default:t(()=>[l("\u6CE8\u518C")]),_:1}))]),_:1})]),_:1})}var O=v(B,[["render",V],["__scopeId","data-v-7ff305df"]]);export{O as H};
