import{u as w}from"../vue-router/vue-router.4618ca24.js";import{a as y,b as E}from"../account/account.f5df8e96.js";import{s as x}from"../auth/auth.28781c65.js";import{_ as k}from"../../assets/index.9f47cedf.js";import{E as n}from"../element-plus/element-plus.7433ebda.js";import{d as L,Z as f,e as r,h,ag as s,o as O,c as A,U as t,O as u,a as D,S as I}from"../@vue/@vue.91badbb5.js";import"../Http/Http.fa37c74c.js";import"../axios/axios.3ae77db0.js";import"../nprogress/nprogress.6998436e.js";import"../@intlify/@intlify.223376e2.js";import"../js-cookie/js-cookie.0390a690.js";import"../pinia/pinia.77f0a8dc.js";import"../vue-demi/vue-demi.4f3c4c97.js";import"../vue-i18n/vue-i18n.be0cd90f.js";import"../vue/vue.c5048f59.js";import"../echarts/echarts.00da4ec3.js";import"../tslib/tslib.e35f93b8.js";import"../zrender/zrender.643dc830.js";import"../vue-json-viewer/vue-json-viewer.da850f6b.js";import"../clipboard/clipboard.e72d304d.js";import"../@element-plus/@element-plus.8ca26a4d.js";import"../pinia-plugin-persistedstate/pinia-plugin-persistedstate.54412c64.js";import"../lodash-es/lodash-es.d3b5e6f4.js";import"../@vueuse/@vueuse.2a62804a.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../@ctrl/@ctrl.9c8f424f.js";import"../dayjs/dayjs.074df034.js";import"../async-validator/async-validator.21881447.js";import"../memoize-one/memoize-one.f0fba034.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.94de1731.js";import"../@floating-ui/@floating-ui.ded716ca.js";const T={class:"login"},U={class:"box"},S=L({__name:"Login",setup(J){const l=f({userNameOrEmail:r(),password:r()}),g=w(),m=r(""),i=r(""),c=r("first"),b=(o,e)=>{console.log(o,e)};f({userName:"",fullName:"",password:"",agent:"",companyName:"",email:"",mobile:"",wechat:""});const v=()=>(m.value==="admin"&&i.value==="admin"?(n({type:"success",message:"\u767B\u5F55\u6210\u529F"}),d()):m.value===""&&i.value===""?n({type:"error",message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D\u548C\u5BC6\u7801"}):n({type:"error",message:"\u7528\u6237\u540D\u6216\u5BC6\u7801\u8F93\u5165\u9519\u8BEF"}),{userName:m.value,pwd:i.value}),d=()=>{y(l).then(o=>{console.log("Login",o),o.code==200&&(x(o.data.accessToken),F(o.data.uid),n.success("\u767B\u5F55\u6210\u529F"))}).catch(o=>{console.log(o)})},F=o=>{E({uid:o}).then(e=>{localStorage.setItem("userInfo",JSON.stringify(e.data)),g.push("/")}).catch(e=>{console.log(e)})};return h(),(o,e)=>{const _=s("el-input"),p=s("el-form-item"),B=s("el-button"),N=s("el-form"),C=s("el-tab-pane"),V=s("el-tabs");return O(),A("div",T,[t(V,{modelValue:c.value,"onUpdate:modelValue":e[4]||(e[4]=a=>c.value=a),class:"demo-tabs",onTabClick:b},{default:u(()=>[t(C,{label:"\u767B\u5F55",name:"first"},{default:u(()=>[D("div",U,[t(N,{model:l,"label-position":"right","label-width":"100px"},{default:u(()=>[t(p,{label:"\u7528\u6237\u540D\uFF1A"},{default:u(()=>[t(_,{modelValue:l.userNameOrEmail,"onUpdate:modelValue":e[0]||(e[0]=a=>l.userNameOrEmail=a),placeholder:"\u8F93\u5165\u7528\u6237\u540D\u6216\u8005\u90AE\u7BB1",clearable:""},null,8,["modelValue"])]),_:1}),t(p,{label:"\u5BC6\u7801\uFF1A"},{default:u(()=>[t(_,{type:"password",modelValue:l.password,"onUpdate:modelValue":e[1]||(e[1]=a=>l.password=a),placeholder:"\u8F93\u5165\u5BC6\u7801",onKeydown:e[2]||(e[2]=a=>a.code==="Enter"?v():""),clearable:""},null,8,["modelValue"])]),_:1}),t(p,null,{default:u(()=>[t(B,{type:"primary",onClick:e[3]||(e[3]=a=>d())},{default:u(()=>[I("\u767B\u5F55")]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["modelValue"])])}}});var be=k(S,[["__scopeId","data-v-a63999bc"]]);export{be as default};
