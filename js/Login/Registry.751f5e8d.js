import{d as q,_,e as n,j as I,ai as i,o as c,c as E,V as u,a as d,P as a,F as b,a3 as U,a8 as k,O as R,T as f,bl as $,bk as L,i as S}from"../@vue/@vue.5f8b0814.js";import{H as z,F as H,e as M,f as Z}from"../footer/footer.fda4f9e0.js";import{u as O}from"../vue-router/vue-router.f22f5c28.js";import"../js-cookie/js-cookie.0390a690.js";import{_ as T}from"../../assets/index.02708b2e.js";import{E as j}from"../element-plus/element-plus.c1fb1f77.js";import"../store/store.b9bb45f0.js";import"../pinia/pinia.55dc9685.js";import"../vue-demi/vue-demi.4f3c4c97.js";import"../vue-i18n/vue-i18n.3119c07c.js";import"../@intlify/@intlify.6f12553a.js";import"../vue/vue.6562b2b2.js";import"../Http/Http.f08bb66b.js";import"../axios/axios.3ae77db0.js";import"../nprogress/nprogress.4e8ed813.js";import"../@element-plus/@element-plus.a41cd0da.js";import"../pinia-plugin-persistedstate/pinia-plugin-persistedstate.54412c64.js";import"../lodash-es/lodash-es.dd79b3a5.js";import"../@vueuse/@vueuse.01c4cb4e.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../@ctrl/@ctrl.9c8f424f.js";import"../dayjs/dayjs.79e01697.js";import"../async-validator/async-validator.21881447.js";import"../memoize-one/memoize-one.f0fba034.js";import"../normalize-wheel-es/normalize-wheel-es.94de1731.js";import"../@floating-ui/@floating-ui.daef5853.js";const P=m=>($("data-v-64e7bd17"),m=m(),L(),m),G={class:"login container"},J={class:"box"},K=P(()=>d("div",{class:"tc"},[d("span",null,"\u7528\u6237\u6CE8\u518C")],-1)),Q=q({__name:"Registry",setup(m){_({userNameOrEmail:n(),password:n()});const A=O();n(""),n(""),n("second");const p=n([]);n();const t=_({userName:"",fullName:"",password:"",agentId:"",companyName:"",email:"",mobile:"",wechat:""}),B={userName:[{required:!0,message:"\u7528\u6237\u4E0D\u53EF\u4E3A\u7A7A"}],fullName:[{required:!0,message:"\u59D3\u540D\u4E0D\u53EF\u4E3A\u7A7A"}],password:[{required:!0,message:"\u5BC6\u7801\u4E0D\u53EF\u4E3A\u7A7A"}],agentId:[{required:!0,message:"\u4EE3\u7406\u4E0D\u53EF\u4E3A\u7A7A"}],email:[{required:!0,message:"\u90AE\u7BB1\u4E0D\u53EF\u4E3A\u7A7A"},{pattern:/^([-_A-Za-z0-9.]+)@([_A-Za-z0-9]+\.)+[A-Za-z0-9]{2,3}$/,trigger:["blur","change"],message:"\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E"}],mobile:[{required:!0,message:"\u624B\u673A\u53F7\u4E0D\u53EF\u4E3A\u7A7A"},{pattern:/^[1][3-9][0-9]{9}$/,trigger:["blur","change"],message:"\u8BF7\u8F93\u5165\u6B63\u786E\u624B\u673A\u53F7"}]},V=async()=>{let o=await M();p.value=o.data,console.log(o)},v=o=>{let e=p.value.find(r=>r.agent_id==o);t.agent=e.agent_name},y=()=>{Z(t).then(o=>{o.code==200&&(j.success("\u6CE8\u518C\u6210\u529F"),A.push("/login"))}).catch(o=>{console.log(o)})},g=S(),C=()=>{g.proxy.$refs.vForm.validate(o=>{!o||y()})},w=()=>{g.proxy.$refs.vForm.resetFields()};return I(()=>{V()}),(o,e)=>{const r=i("el-input"),s=i("el-form-item"),D=i("el-option"),h=i("el-select"),F=i("el-button"),x=i("el-form"),N=i("el-card");return c(),E(b,null,[u(z),d("div",G,[u(N,{class:"bg"},{default:a(()=>[d("div",J,[K,u(x,{model:t,ref:"vForm",rules:B,"label-position":"right","label-width":"80px",onSubmit:e[9]||(e[9]=U(()=>{},["prevent"]))},{default:a(()=>[u(s,{label:"\u7528\u6237\u540D\uFF1A",prop:"userName",class:"required label-right-align"},{default:a(()=>[u(r,{modelValue:t.userName,"onUpdate:modelValue":e[0]||(e[0]=l=>t.userName=l),type:"text",placeholder:"\u8BF7\u586B\u5199\u7528\u6237\u540D",clearable:""},null,8,["modelValue"])]),_:1}),u(s,{label:"\u59D3\u540D\uFF1A",prop:"fullName",class:"required label-right-align"},{default:a(()=>[u(r,{modelValue:t.fullName,"onUpdate:modelValue":e[1]||(e[1]=l=>t.fullName=l),type:"text",placeholder:"\u8BF7\u586B\u5199\u59D3\u540D",clearable:""},null,8,["modelValue"])]),_:1}),u(s,{label:"\u5BC6\u7801\uFF1A",prop:"password",class:"required label-right-align"},{default:a(()=>[u(r,{modelValue:t.password,"onUpdate:modelValue":e[2]||(e[2]=l=>t.password=l),type:"password",placeholder:"\u8BF7\u586B\u5199\u5BC6\u7801",clearable:""},null,8,["modelValue"])]),_:1}),u(s,{label:"\u4EE3\u7406\uFF1A",prop:"agentId",class:"label-right-align"},{default:a(()=>[u(h,{modelValue:t.agentId,"onUpdate:modelValue":e[3]||(e[3]=l=>t.agentId=l),onChange:v,placeholder:"\u8BF7\u9009\u62E9\u4EE3\u7406",style:{width:"100%"}},{default:a(()=>[(c(!0),E(b,null,k(p.value,l=>(c(),R(D,{value:l.agent_id,label:l.agent_name},null,8,["value","label"]))),256))]),_:1},8,["modelValue"])]),_:1}),u(s,{label:"\u90AE\u7BB1\uFF1A",prop:"email",class:"required label-right-align"},{default:a(()=>[u(r,{modelValue:t.email,"onUpdate:modelValue":e[4]||(e[4]=l=>t.email=l),type:"text",placeholder:"\u8BF7\u586B\u5199\u90AE\u7BB1",clearable:""},null,8,["modelValue"])]),_:1}),u(s,{label:"\u624B\u673A\u53F7\uFF1A",prop:"mobile",class:"required label-right-align"},{default:a(()=>[u(r,{modelValue:t.mobile,"onUpdate:modelValue":e[5]||(e[5]=l=>t.mobile=l),type:"text",placeholder:"\u8BF7\u586B\u5199\u624B\u673A\u53F7",clearable:""},null,8,["modelValue"])]),_:1}),u(s,{label:"\u5FAE\u4FE1\u53F7\uFF1A",prop:"wechat",class:"required label-right-align"},{default:a(()=>[u(r,{modelValue:t.wechat,"onUpdate:modelValue":e[6]||(e[6]=l=>t.wechat=l),type:"text",placeholder:"\u8BF7\u586B\u5199\u5FAE\u4FE1\u53F7",clearable:""},null,8,["modelValue"])]),_:1}),u(s,null,{default:a(()=>[u(F,{type:"primary",onClick:e[7]||(e[7]=l=>C())},{default:a(()=>[f("\u6CE8\u518C")]),_:1}),u(F,{onClick:e[8]||(e[8]=l=>w())},{default:a(()=>[f("\u91CD\u7F6E")]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1})]),u(H)],64)}}});var ve=T(Q,[["__scopeId","data-v-64e7bd17"]]);export{ve as default};
