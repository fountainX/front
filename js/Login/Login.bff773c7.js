import{d as k,Z as V,e as i,h as L,ag as n,o as $,c as h,U as u,O as a,a as B,S as f,a2 as O}from"../@vue/@vue.91badbb5.js";import{u as z}from"../vue-router/vue-router.eb4438d1.js";import{a as I,b as S,c as T}from"../account/account.5490aaf7.js";import{s as Z}from"../auth/auth.28781c65.js";import{_ as R}from"../../assets/index.c56ba062.js";import{E as d}from"../element-plus/element-plus.7433ebda.js";import"../Http/Http.fcd9958f.js";import"../axios/axios.3ae77db0.js";import"../nprogress/nprogress.6998436e.js";import"../@intlify/@intlify.223376e2.js";import"../js-cookie/js-cookie.0390a690.js";import"../pinia/pinia.77f0a8dc.js";import"../vue-demi/vue-demi.4f3c4c97.js";import"../vue-i18n/vue-i18n.be0cd90f.js";import"../vue/vue.c5048f59.js";import"../echarts/echarts.00da4ec3.js";import"../tslib/tslib.e35f93b8.js";import"../zrender/zrender.643dc830.js";import"../vue-json-viewer/vue-json-viewer.da850f6b.js";import"../clipboard/clipboard.e72d304d.js";import"../@element-plus/@element-plus.8ca26a4d.js";import"../pinia-plugin-persistedstate/pinia-plugin-persistedstate.54412c64.js";import"../lodash-es/lodash-es.d3b5e6f4.js";import"../@vueuse/@vueuse.2a62804a.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../@ctrl/@ctrl.9c8f424f.js";import"../dayjs/dayjs.074df034.js";import"../async-validator/async-validator.21881447.js";import"../memoize-one/memoize-one.f0fba034.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.94de1731.js";import"../@floating-ui/@floating-ui.ded716ca.js";const M={class:"login"},J={class:"box"},K={class:"box"},j=k({__name:"Login",setup(G){const m=V({userNameOrEmail:i(),password:i()}),b=z(),p=i(""),g=i(""),F=i("first"),v=(t,e)=>{console.log(t,e)},o=V({userName:"",fullName:"",password:"",agent:"",email:"",mobile:"",wechat:""}),C={userName:[{required:!0,message:"\u7528\u6237\u4E0D\u53EF\u4E3A\u7A7A"}],fullName:[{required:!0,message:"\u59D3\u540D\u4E0D\u53EF\u4E3A\u7A7A"}],password:[{required:!0,message:"\u5BC6\u7801\u4E0D\u53EF\u4E3A\u7A7A"}],email:[{required:!0,message:"\u90AE\u7BB1\u4E0D\u53EF\u4E3A\u7A7A"},{pattern:/^([-_A-Za-z0-9.]+)@([_A-Za-z0-9]+\.)+[A-Za-z0-9]{2,3}$/,trigger:["blur","change"],message:"\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E"}],mobile:[{required:!0,message:"\u624B\u673A\u53F7\u4E0D\u53EF\u4E3A\u7A7A"},{pattern:/^[1][3-9][0-9]{9}$/,trigger:["blur","change"],message:"\u8BF7\u8F93\u5165\u6B63\u786E\u624B\u673A\u53F7"}],wechat:[{required:!0,message:"\u5FAE\u4FE1\u53F7\u4E0D\u53EF\u4E3A\u7A7A"}]},y=()=>(p.value==="admin"&&g.value==="admin"?(d({type:"success",message:"\u767B\u5F55\u6210\u529F"}),b.push("/main")):p.value===""&&g.value===""?d({type:"error",message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D\u548C\u5BC6\u7801"}):d({type:"error",message:"\u7528\u6237\u540D\u6216\u5BC6\u7801\u8F93\u5165\u9519\u8BEF"}),{userName:p.value,pwd:g.value}),w=()=>{I(m).then(t=>{console.log("Login",t),t.code==200&&(Z(t.data.accessToken),x(t.data.uid),d.success("\u767B\u5F55\u6210\u529F"),b.push("/"))}).catch(t=>{console.log(t)})},N=()=>{T(o).then(t=>{t.code==200&&(d.success("\u6CE8\u518C\u6210\u529F"),F.value="first")}).catch(t=>{console.log(t)})},x=t=>{S({uid:t}).then(e=>{localStorage.setItem("userInfo",JSON.stringify(e.data))}).catch(e=>{console.log(e)})},E=L(),D=()=>{E.proxy.$refs.vForm.validate(t=>{!t||N()})},q=()=>{E.proxy.$refs.vForm.resetFields()};return(t,e)=>{const s=n("el-input"),r=n("el-form-item"),c=n("el-button"),A=n("el-form"),_=n("el-tab-pane"),U=n("el-tabs");return $(),h("div",M,[u(U,{modelValue:F.value,"onUpdate:modelValue":e[14]||(e[14]=l=>F.value=l),class:"demo-tabs",onTabClick:v},{default:a(()=>[u(_,{label:"\u767B\u5F55",name:"first"},{default:a(()=>[B("div",J,[u(A,{model:m,"label-position":"right","label-width":"100px"},{default:a(()=>[u(r,{label:"\u7528\u6237\u540D\uFF1A"},{default:a(()=>[u(s,{modelValue:m.userNameOrEmail,"onUpdate:modelValue":e[0]||(e[0]=l=>m.userNameOrEmail=l),placeholder:"\u8F93\u5165\u7528\u6237\u540D\u6216\u8005\u90AE\u7BB1",clearable:""},null,8,["modelValue"])]),_:1}),u(r,{label:"\u5BC6\u7801\uFF1A"},{default:a(()=>[u(s,{type:"password",modelValue:m.password,"onUpdate:modelValue":e[1]||(e[1]=l=>m.password=l),placeholder:"\u8F93\u5165\u5BC6\u7801",onKeydown:e[2]||(e[2]=l=>l.code==="Enter"?y():""),clearable:""},null,8,["modelValue"])]),_:1}),u(r,null,{default:a(()=>[u(c,{type:"primary",onClick:e[3]||(e[3]=l=>w())},{default:a(()=>[f("\u767B\u5F55")]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1}),u(_,{label:"\u6CE8\u518C",name:"second"},{default:a(()=>[B("div",K,[u(A,{model:o,ref:"vForm",rules:C,"label-position":"right","label-width":"100px",size:"small",onSubmit:e[13]||(e[13]=O(()=>{},["prevent"]))},{default:a(()=>[u(r,{label:"\u7528\u6237\u540D\uFF1A",prop:"userName",class:"required label-right-align"},{default:a(()=>[u(s,{modelValue:o.userName,"onUpdate:modelValue":e[4]||(e[4]=l=>o.userName=l),type:"text",clearable:""},null,8,["modelValue"])]),_:1}),u(r,{label:"\u59D3\u540D\uFF1A",prop:"fullName",class:"required label-right-align"},{default:a(()=>[u(s,{modelValue:o.fullName,"onUpdate:modelValue":e[5]||(e[5]=l=>o.fullName=l),type:"text",clearable:""},null,8,["modelValue"])]),_:1}),u(r,{label:"\u5BC6\u7801\uFF1A",prop:"password",class:"required label-right-align"},{default:a(()=>[u(s,{modelValue:o.password,"onUpdate:modelValue":e[6]||(e[6]=l=>o.password=l),type:"password",clearable:""},null,8,["modelValue"])]),_:1}),u(r,{label:"\u4EE3\u7406\uFF1A",prop:"agent",class:"label-right-align"},{default:a(()=>[u(s,{modelValue:o.agent,"onUpdate:modelValue":e[7]||(e[7]=l=>o.agent=l),type:"text",clearable:""},null,8,["modelValue"])]),_:1}),u(r,{label:"\u90AE\u7BB1\uFF1A",prop:"email",class:"required label-right-align"},{default:a(()=>[u(s,{modelValue:o.email,"onUpdate:modelValue":e[8]||(e[8]=l=>o.email=l),type:"text",clearable:""},null,8,["modelValue"])]),_:1}),u(r,{label:"\u624B\u673A\u53F7\uFF1A",prop:"mobile",class:"required label-right-align"},{default:a(()=>[u(s,{modelValue:o.mobile,"onUpdate:modelValue":e[9]||(e[9]=l=>o.mobile=l),type:"text",clearable:""},null,8,["modelValue"])]),_:1}),u(r,{label:"\u5FAE\u4FE1\u53F7\uFF1A",prop:"wechat",class:"required label-right-align"},{default:a(()=>[u(s,{modelValue:o.wechat,"onUpdate:modelValue":e[10]||(e[10]=l=>o.wechat=l),type:"text",clearable:""},null,8,["modelValue"])]),_:1}),u(r,null,{default:a(()=>[u(c,{type:"primary",onClick:e[11]||(e[11]=l=>q())},{default:a(()=>[f("\u91CD\u7F6E")]),_:1}),u(c,{type:"primary",onClick:e[12]||(e[12]=l=>D())},{default:a(()=>[f("\u6CE8\u518C")]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["modelValue"])])}}});var we=R(j,[["__scopeId","data-v-30650387"]]);export{we as default};
