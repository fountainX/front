import{d as R,e as f,Z as L,h as q,ag as s,o as M,c as P,U as u,a as m,O as o,u as k,S as n,T as b,a2 as G,F as H}from"../@vue/@vue.91badbb5.js";import{H as X}from"../header/header.539d8017.js";import{u as $}from"../vue-router/vue-router.4618ca24.js";import{b as Z,d as z}from"../account/account.f5df8e96.js";import{f as K}from"../order/order.9450c873.js";import{_ as Q}from"../../assets/index.9f47cedf.js";import{E as W}from"../element-plus/element-plus.7433ebda.js";import"../store/store.bab920c0.js";import"../pinia/pinia.77f0a8dc.js";import"../vue-demi/vue-demi.4f3c4c97.js";import"../auth/auth.28781c65.js";import"../js-cookie/js-cookie.0390a690.js";import"../Http/Http.fa37c74c.js";import"../axios/axios.3ae77db0.js";import"../nprogress/nprogress.6998436e.js";import"../@intlify/@intlify.223376e2.js";import"../vue-i18n/vue-i18n.be0cd90f.js";import"../vue/vue.c5048f59.js";import"../echarts/echarts.00da4ec3.js";import"../tslib/tslib.e35f93b8.js";import"../zrender/zrender.643dc830.js";import"../vue-json-viewer/vue-json-viewer.da850f6b.js";import"../clipboard/clipboard.e72d304d.js";import"../@element-plus/@element-plus.8ca26a4d.js";import"../pinia-plugin-persistedstate/pinia-plugin-persistedstate.54412c64.js";import"../lodash-es/lodash-es.d3b5e6f4.js";import"../@vueuse/@vueuse.2a62804a.js";import"../@popperjs/@popperjs.f1fb8f77.js";import"../@ctrl/@ctrl.9c8f424f.js";import"../dayjs/dayjs.074df034.js";import"../async-validator/async-validator.21881447.js";import"../memoize-one/memoize-one.f0fba034.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.94de1731.js";import"../@floating-ui/@floating-ui.ded716ca.js";const J={class:"login"},Y={class:"box"},j={class:"box"},ee=R({__name:"index",setup(ue){const E=$(),p=E.currentRoute.value.query.uid,g=JSON.parse(localStorage.getItem("userInfo")),B=[{id:10,value:"TAX",desc:"\u62A5\u7A0E"},{id:20,value:"ACCOUNTING",desc:"\u5E74\u5BA1"},{id:30,value:"ACCOUNTING",desc:"\u505A\u8D26"},{id:40,value:"REGISTER_COMPANY",desc:"\u6CE8\u518C\u516C\u53F8"},{id:50,value:"SALE_TAX",desc:"\u9500\u552E\u7A0E"},{id:90,value:"OTHER",desc:"\u5176\u4ED6"},{id:51,value:"SALE_TAX_LICENSE_APPLICATION",desc:"\u9500\u552E\u7A0E-\u8BB8\u53EF\u8BC1\u7533\u8BF7"},{id:52,value:"SALE_TAX_LICENSE_APPLICATION",desc:"\u9500\u552E\u7A0E-\u7533\u62A5"},{id:91,value:"ODI_CHECKIN",desc:"\u5176\u4ED6-ODI\u62A5\u5230"},{id:92,value:"BANK_ACCOUNT_OPENING",desc:"\u5176\u4ED6-\u94F6\u884C\u5F00\u6237"},{id:93,value:"L_VISA",desc:"\u5176\u4ED6-L\u7B7E"},{id:94,value:"US_EB2_IMMIGRATION",desc:"\u5176\u4ED6-\u7F8E\u56FDEB2\u79FB\u6C11"},{id:95,value:"MEXICAN_GREEN_CARD",desc:"\u5176\u4ED6-\u58A8\u897F\u54E5\u7EFF\u5361"},{id:96,value:"MEXICAN_BUSINESS_VISA",desc:"\u5176\u4ED6-\u58A8\u897F\u54E5\u5546\u52A1\u7B7E\u8BC1"},{id:97,value:"US_INSURANCE",desc:"\u5176\u4ED6-\u7F8E\u56FD\u4FDD\u9669"},{id:120,value:"OTHER_OTHER",desc:"\u5176\u4ED6-\u5176\u4ED6"}],N=t=>t?B.find(r=>r.id==t).desc:void 0,v=[{id:"10",value:"QUOTATION_STARTED",desc:"\u62A5\u4EF7\u5F00\u59CB"},{id:"11",value:"QUOTATION_CONFIRMED",desc:"\u62A5\u4EF7\u786E\u8BA4"},{id:"12",value:"\u53D1\u7968\u5F00\u5177",desc:"INVOICE_ISSUED"},{id:"13",value:"PAID",desc:"\u5DF2\u4ED8\u6B3E"},{id:"14",value:"NO_PAID_CONTINUE",desc:"\u672A\u4ED8\u6B3E\u53EF\u4EE5\u7EE7\u7EED\u6D41\u7A0B"},{id:"15",value:"DOCUMENT_UPLOADED",desc:"\u8D44\u6599\u4E0A\u4F20"},{id:"16",value:"DOCUMENT_REVIEWED",desc:"\u8D44\u6599\u5BA1\u6838"},{id:"17",value:"DOCUMENT_REVIEWED",desc:"\u7B7E\u5B57\u56DE\u4F20"},{id:"18",value:"SIGNATURE_RETURNED_BACK",desc:"\u7B7E\u56DE"},{id:"20",value:"FINISHED",desc:"\u5B8C\u7ED3"},{id:"99",value:"DELETED",desc:"\u5220\u9664"}],C=t=>t?v.find(r=>r.id==t).desc:void 0,c=f("1"),I=(t,e)=>{console.log(t,e),t.uid==13&&A()};let _=f([]);const l=L({userName:"",fullName:"",agent:"",email:"",mobile:"",wechat:""}),T={userName:[{required:!0,message:"\u7528\u6237\u4E0D\u53EF\u4E3A\u7A7A"}],fullName:[{required:!0,message:"\u59D3\u540D\u4E0D\u53EF\u4E3A\u7A7A"}],password:[{required:!0,message:"\u5BC6\u7801\u4E0D\u53EF\u4E3A\u7A7A"}],email:[{required:!0,message:"\u90AE\u7BB1\u4E0D\u53EF\u4E3A\u7A7A"},{pattern:/^([-_A-Za-z0-9.]+)@([_A-Za-z0-9]+\.)+[A-Za-z0-9]{2,3}$/,trigger:["blur","change"],message:"\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E"}],mobile:[{required:!0,message:"\u624B\u673A\u53F7\u4E0D\u53EF\u4E3A\u7A7A"},{pattern:/^[1][3-9][0-9]{9}$/,trigger:["blur","change"],message:"\u8BF7\u8F93\u5165\u6B63\u786E\u624B\u673A\u53F7"}],wechat:[{required:!0,message:"\u5FAE\u4FE1\u53F7\u4E0D\u53EF\u4E3A\u7A7A"}]},O=t=>{Z({uid:t}).then(e=>{console.log("userinfo",e),l.userName=e.data.user_name,l.fullName=e.data.full_name,l.agent=e.data.agent,l.email=e.data.email,l.mobile=e.data.mobile,l.wechat=e.data.wechat}).catch(e=>{console.log(e)})},A=()=>{let t={page:1,count:20,businessType:10,uid:g.uid};K(t).then(e=>{e.code==200&&(_.value=e.data)}).catch(e=>{console.log(e)})},V=t=>{E.push({path:"order",query:{type:"TAX",orderId:t}})};O(p),A();const U=()=>{z(p,l).then(t=>{t.code==200&&W.success("\u66F4\u65B0\u6210\u529F")}).catch(t=>{console.log(t)})},S=q(),y=()=>{S.proxy.$refs.vForm.validate(t=>{!t||U()})};return(t,e)=>{const r=s("el-table-column"),F=s("el-button"),h=s("el-table"),D=s("el-tab-pane"),i=s("el-input"),d=s("el-form-item"),x=s("el-form"),w=s("el-tabs");return M(),P(H,null,[u(X),m("div",J,[u(w,{modelValue:c.value,"onUpdate:modelValue":e[8]||(e[8]=a=>c.value=a),class:"demo-tabs",onTabClick:I},{default:o(()=>[u(D,{label:"\u6211\u7684\u8BA2\u5355",name:"1"},{default:o(()=>[m("div",Y,[u(h,{data:k(_),stripe:"",border:"",style:{width:"100%"}},{default:o(()=>[u(r,{prop:"order_id",label:"\u8BA2\u5355ID",width:"80"}),u(r,{prop:"business_type",label:"\u8BA2\u5355\u7C7B\u578B"},{default:o(a=>[n(b(N(a.row.business_type)),1)]),_:1}),u(r,{prop:"order_no",label:"\u8BA2\u5355\u7F16\u53F7"}),u(r,{prop:"order_status",label:"\u8BA2\u5355\u72B6\u6001"},{default:o(a=>[n(b(C(a.row.order_status)),1)]),_:1}),u(r,{prop:"updateTime",label:"\u66F4\u65B0\u65F6\u95F4",width:"160"}),u(r,{label:"\u64CD\u4F5C",width:"60"},{default:o(({row:a})=>[u(F,{type:"primary",onClick:te=>V(a.order_id),link:""},{default:o(()=>[n("\u67E5\u770B")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])]),_:1}),u(D,{label:"\u7528\u6237\u8D44\u6599",name:"2"},{default:o(()=>[m("div",j,[u(x,{model:l,ref:"vForm",rules:T,"label-position":"right","label-width":"100px",onSubmit:e[7]||(e[7]=G(()=>{},["prevent"]))},{default:o(()=>[u(d,{label:"\u7528\u6237\u540D\uFF1A",prop:"userName",class:"required label-right-align"},{default:o(()=>[u(i,{modelValue:l.userName,"onUpdate:modelValue":e[0]||(e[0]=a=>l.userName=a),type:"text",clearable:""},null,8,["modelValue"])]),_:1}),u(d,{label:"\u59D3\u540D\uFF1A",prop:"fullName",class:"required label-right-align"},{default:o(()=>[u(i,{modelValue:l.fullName,"onUpdate:modelValue":e[1]||(e[1]=a=>l.fullName=a),type:"text",clearable:""},null,8,["modelValue"])]),_:1}),u(d,{label:"\u4EE3\u7406\uFF1A",prop:"agent",class:"label-right-align"},{default:o(()=>[u(i,{modelValue:l.agent,"onUpdate:modelValue":e[2]||(e[2]=a=>l.agent=a),type:"text",clearable:""},null,8,["modelValue"])]),_:1}),u(d,{label:"\u90AE\u7BB1\uFF1A",prop:"email",class:"required label-right-align"},{default:o(()=>[u(i,{modelValue:l.email,"onUpdate:modelValue":e[3]||(e[3]=a=>l.email=a),type:"text",clearable:""},null,8,["modelValue"])]),_:1}),u(d,{label:"\u624B\u673A\u53F7\uFF1A",prop:"mobile",class:"required label-right-align"},{default:o(()=>[u(i,{modelValue:l.mobile,"onUpdate:modelValue":e[4]||(e[4]=a=>l.mobile=a),type:"text",clearable:""},null,8,["modelValue"])]),_:1}),u(d,{label:"\u5FAE\u4FE1\u53F7\uFF1A",prop:"wechat",class:"required label-right-align"},{default:o(()=>[u(i,{modelValue:l.wechat,"onUpdate:modelValue":e[5]||(e[5]=a=>l.wechat=a),type:"text",clearable:""},null,8,["modelValue"])]),_:1}),u(d,null,{default:o(()=>[u(F,{type:"primary",onClick:e[6]||(e[6]=a=>y())},{default:o(()=>[n("\u4FEE\u6539\u7528\u6237\u4FE1\u606F")]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1},8,["modelValue"])])],64)}}});var qe=Q(ee,[["__scopeId","data-v-7481cff4"]]);export{qe as default};
